(function(e){"use strict";function t(e){function t(t){var i=n.getItem(t),r=i&&JSON.parse(i)||{};e.Model.call(this,r),this.bind("change",function(){n.setItem(t,JSON.stringify(this))})}function i(t){for(var i=n.getItem(t),r=i&&JSON.parse(i)||[],s=e.Array.call(this),o=0,a=r.length;a>o;o++)s.push(r[o]);return s.bind("change",function(){n.setItem(t,JSON.stringify(this))}),s}t.prototype=new e.Model,t.prototype.constructor=t,e.LocalModel=t,e.LocalArray=i}var n=e.localStorage;if("function"==typeof define&&define.amd)define(function(e){var n=e("laces");return t(n),n});else{var i={Model:e.LacesModel,Map:e.LacesMap,Array:e.LacesArray};t(i),e.LacesLocalModel=i.LocalModel,e.LacesLocalArray=i.LocalArray}})(this);